    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;Interrupt example
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT waveform_port, 02
  LOGFORMAT-CONSTANT waveform_port, 02
INSTRUCTION-CONSTANT
   OPERAND1-waveform_port
  OP1 VALUE-waveform_port
   OPERAND2-02
  OP2 VALUE-02
    COMMENT-;bit0 will be data
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT counter_port, 04
  LOGFORMAT-CONSTANT counter_port, 04
INSTRUCTION-CONSTANT
   OPERAND1-counter_port
  OP1 VALUE-counter_port
   OPERAND2-04
  OP2 VALUE-04
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT pattern_10101010, AA
  LOGFORMAT-CONSTANT pattern_10101010, AA
INSTRUCTION-CONSTANT
   OPERAND1-pattern_10101010
  OP1 VALUE-pattern_10101010
   OPERAND2-AA
  OP2 VALUE-AA
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG sA, interrupt_counter
  LOGFORMAT-NAMEREG sA, interrupt_counter
INSTRUCTION-NAMEREG
   OPERAND1-sA
  OP1 VALUE-sA
   OPERAND2-interrupt_counter
  OP2 VALUE-interrupt_counter
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;
    ADDRESS-000
      LABEL-start
  FORMATTED-LOAD interrupt_counter, 00
  LOGFORMAT-LOAD interrupt_counter[sA], 00
INSTRUCTION-LOAD
   OPERAND1-interrupt_counter
  OP1 VALUE-sA
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;reset interrupt counter
    ADDRESS-001
      LABEL-
  FORMATTED-LOAD s2, pattern_10101010
  LOGFORMAT-LOAD s2, pattern_10101010[AA]
INSTRUCTION-LOAD
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-pattern_10101010
  OP2 VALUE-AA
    COMMENT-;initial output condition
    ADDRESS-002
      LABEL-
  FORMATTED-ENABLE INTERRUPT
  LOGFORMAT-ENABLE INTERRUPT
INSTRUCTION-ENABLE
   OPERAND1-INTERRUPT
  OP1 VALUE-INTERRUPT
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-003
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;
    ADDRESS-003
      LABEL-drive_wave
  FORMATTED-OUTPUT s2, waveform_port
  LOGFORMAT-OUTPUT s2, waveform_port[02]
INSTRUCTION-OUTPUT
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-waveform_port
  OP2 VALUE-02
    COMMENT-
    ADDRESS-004
      LABEL-
  FORMATTED-LOAD s0, 07
  LOGFORMAT-LOAD s0, 07
INSTRUCTION-LOAD
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-07
  OP2 VALUE-07
    COMMENT-;delay size
    ADDRESS-005
      LABEL-loop
  FORMATTED-SUB s0, 01
  LOGFORMAT-SUB s0, 01
INSTRUCTION-SUB
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;delay loop
    ADDRESS-006
      LABEL-
  FORMATTED-JUMP NZ, loop
  LOGFORMAT-JUMP NZ, loop[005]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-loop
  OP2 VALUE-005
    COMMENT-
    ADDRESS-007
      LABEL-
  FORMATTED-XOR s2, FF
  LOGFORMAT-XOR s2, FF
INSTRUCTION-XOR
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-FF
  OP2 VALUE-FF
    COMMENT-;toggle waveform
    ADDRESS-008
      LABEL-
  FORMATTED-JUMP drive_wave
  LOGFORMAT-JUMP drive_wave[003]
INSTRUCTION-JUMP
   OPERAND1-drive_wave
  OP1 VALUE-003
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-009
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;
    ADDRESS-2B0
      LABEL-
  FORMATTED-ADDRESS 2B0
  LOGFORMAT-ADDRESS 2B0
INSTRUCTION-ADDRESS
   OPERAND1-2B0
  OP1 VALUE-2B0
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-2B0
      LABEL-int_routine
  FORMATTED-ADD interrupt_counter, 01
  LOGFORMAT-ADD interrupt_counter[sA], 01
INSTRUCTION-ADD
   OPERAND1-interrupt_counter
  OP1 VALUE-sA
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;increment counter
    ADDRESS-2B1
      LABEL-
  FORMATTED-OUTPUT interrupt_counter, counter_port
  LOGFORMAT-OUTPUT interrupt_counter[sA], counter_port[04]
INSTRUCTION-OUTPUT
   OPERAND1-interrupt_counter
  OP1 VALUE-sA
   OPERAND2-counter_port
  OP2 VALUE-04
    COMMENT-
    ADDRESS-2B2
      LABEL-
  FORMATTED-RETURNI ENABLE
  LOGFORMAT-RETURNI ENABLE
INSTRUCTION-RETURNI
   OPERAND1-ENABLE
  OP1 VALUE-ENABLE
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-2B3
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;
    ADDRESS-3FF
      LABEL-
  FORMATTED-ADDRESS 3FF
  LOGFORMAT-ADDRESS 3FF
INSTRUCTION-ADDRESS
   OPERAND1-3FF
  OP1 VALUE-3FF
   OPERAND2-
  OP2 VALUE-
    COMMENT-;set interrupt vector
    ADDRESS-3FF
      LABEL-
  FORMATTED-JUMP int_routine
  LOGFORMAT-JUMP int_routine[2B0]
INSTRUCTION-JUMP
   OPERAND1-int_routine
  OP1 VALUE-2B0
   OPERAND2-
  OP2 VALUE-
    COMMENT-
